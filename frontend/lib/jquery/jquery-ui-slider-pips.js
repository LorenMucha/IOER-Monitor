!function(e){"use strict";var i={pips:function(i){function l(i){var l,s,t,a,n,r=[],p=0;if(d.values()&&d.values().length){for(t=d.values(),a=e.map(t,function(e){return Math.abs(e-i)}),n=Math.min.apply(Math,a),l=0;l<a.length;l++)a[l]===n&&r.push(l);for(p=r[0],s=0;s<r.length;s++)d._lastChangedValue===r[s]&&(p=r[s]);d.options.range&&2===r.length&&(i>t[1]?p=r[1]:i<t[0]&&(p=r[0]))}return p}function s(i,s){if(!d.option("disabled")){var t=e(i).data("value"),a=l(t);d.values()&&d.values().length?d.options.values[a]=d._trimAlignValue(t):d.options.value=d._trimAlignValue(t),d._refreshValue(),d._change(s,a)}}function t(i){var l,s,t,n,r,p=i,o="ui-slider-pip",u="",h=d.value(),m=d.values();if("first"===i?p=0:"last"===i&&(p=c),t=f+d.options.step*p,n=t.toString().replace(".","-"),r=p+f-f,l="array"===e.type(v.labels)?v.labels[r]||"":"object"===e.type(v.labels)?"first"===i?v.labels.first||"":"last"===i?v.labels.last||"":"array"===e.type(v.labels.rest)?v.labels.rest[r-1]||"":t:t,"first"===i?(s="0%",o+=" ui-slider-pip-first",o+="label"===v.first?" ui-slider-pip-label":"",o+=!1===v.first?" ui-slider-pip-hide":""):"last"===i?(s="100%",o+=" ui-slider-pip-last",o+="label"===v.last?" ui-slider-pip-label":"",o+=!1===v.last?" ui-slider-pip-hide":""):(s=(100/c*i).toFixed(4)+"%",o+="label"===v.rest?" ui-slider-pip-label":"",o+=!1===v.rest?" ui-slider-pip-hide":""),o+=" ui-slider-pip-"+n,m&&m.length){for(a=0;a<m.length;a++)t===m[a]&&(o+=" ui-slider-pip-initial-"+(a+1),o+=" ui-slider-pip-selected-"+(a+1));d.options.range&&t>m[0]&&t<m[1]&&(o+=" ui-slider-pip-inrange")}else t===h&&(o+=" ui-slider-pip-initial",o+=" ui-slider-pip-selected"),d.options.range&&("min"===d.options.range&&t<h||"max"===d.options.range&&t>h)&&(o+=" ui-slider-pip-inrange");return u="horizontal"===d.options.orientation?"left: "+s:"bottom: "+s,'<span class="'+o+'" style="'+u+'"><span class="ui-slider-line"></span><span class="ui-slider-label" data-value="'+t+'">'+v.formatLabel(l)+"</span></span>"}var a,n,r,p,o,d=this,u="",f=d._valueMin(),c=(d._valueMax()-f)/d.options.step,h=d.element.find(".ui-slider-handle"),v={first:"label",last:"label",rest:"pip",labels:!1,prefix:"",suffix:"",step:c>100?Math.floor(.05*c):1,formatLabel:function(e){return this.prefix+e+this.suffix}};if("object"===e.type(i)||"undefined"===e.type(i)){e.extend(v,i),d.element.data("pips-options",v),d.options.pipStep=Math.abs(Math.round(v.step))||1,d.element.off(".selectPip").addClass("ui-slider-pips").find(".ui-slider-pip").remove();var m={single:function(i){this.resetClasses(),o.filter(".ui-slider-pip-"+this.classLabel(i)).addClass("ui-slider-pip-selected"),d.options.range&&o.each(function(l,s){var t=e(s).children(".ui-slider-label").data("value");("min"===d.options.range&&t<i||"max"===d.options.range&&t>i)&&e(s).addClass("ui-slider-pip-inrange")})},range:function(i){for(this.resetClasses(),a=0;a<i.length;a++)o.filter(".ui-slider-pip-"+this.classLabel(i[a])).addClass("ui-slider-pip-selected-"+(a+1));d.options.range&&o.each(function(l,s){var t=e(s).children(".ui-slider-label").data("value");t>i[0]&&t<i[1]&&e(s).addClass("ui-slider-pip-inrange")})},classLabel:function(e){return e.toString().replace(".","-")},resetClasses:function(){var e=/(^|\s*)(ui-slider-pip-selected|ui-slider-pip-inrange)(-{1,2}\d+|\s|$)/gi;o.removeClass(function(i,l){return(l.match(e)||[]).join(" ")})}};for(u+=t("first"),r=d.options.pipStep;r<c;r+=d.options.pipStep)u+=t(r);for(u+=t("last"),d.element.append(u),o=d.element.find(".ui-slider-pip"),p=e._data(d.element.get(0),"events").mousedown&&e._data(d.element.get(0),"events").mousedown.length?e._data(d.element.get(0),"events").mousedown:d.element.data("mousedown-handlers"),d.element.data("mousedown-handlers",p.slice()),n=0;n<p.length;n++)"slider"===p[n].namespace&&d.element.data("mousedown-original",p[n].handler);d.element.off("mousedown.slider").on("mousedown.selectPip",function(i){var t=e(i.target),a=l(t.data("value")),n=h.eq(a);n.addClass("ui-state-active"),t.is(".ui-slider-label")?(s(t,i),d.element.one("mouseup.selectPip",function(){n.removeClass("ui-state-active").focus()})):d.element.data("mousedown-original")(i)}),d.element.on("slide.selectPip slidechange.selectPip",function(i,l){var s=e(this),t=s.slider("value"),a=s.slider("values");l&&(t=l.value,a=l.values),d.values()&&d.values().length?m.range(a):m.single(t)})}else"destroy"===i?d.element.off(".selectPip").on("mousedown.slider",d.element.data("mousedown-original")).removeClass("ui-slider-pips").find(".ui-slider-pip").remove():"refresh"===i&&d.element.slider("pips",d.element.data("pips-options"))},float:function(i){function l(i){var l=[],r=e.map(i,function(e){return Math.ceil((e-a)/t.options.step)});if("array"===e.type(u.labels))for(s=0;s<i.length;s++)l[s]=u.labels[r[s]]||i[s];else if("object"===e.type(u.labels))for(s=0;s<i.length;s++)i[s]===a?l[s]=u.labels.first||a:i[s]===n?l[s]=u.labels.last||n:"array"===e.type(u.labels.rest)?l[s]=u.labels.rest[r[s]-1]||i[s]:l[s]=i[s];else for(s=0;s<i.length;s++)l[s]=i[s];return l}var s,t=this,a=t._valueMin(),n=t._valueMax(),r=t._value(),p=t._values(),o=[],d=t.element.find(".ui-slider-handle"),u={handle:!0,pips:!1,labels:!1,prefix:"",suffix:"",event:"slidechange slide",formatLabel:function(e){return this.prefix+e+this.suffix}};if("object"===e.type(i)||"undefined"===e.type(i)){if(e.extend(u,i),t.element.data("float-options",u),r<a&&(r=a),r>n&&(r=n),p&&p.length)for(s=0;s<p.length;s++)p[s]<a&&(p[s]=a),p[s]>n&&(p[s]=n);if(t.element.addClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove(),u.handle)for(o=l(t.values()&&t.values().length?p:[r]),s=0;s<o.length;s++)d.eq(s).append(e('<span class="ui-slider-tip">'+u.formatLabel(o[s])+"</span>"));u.pips&&t.element.find(".ui-slider-label").each(function(i,s){var t,a=e(s),n=[a.data("value")];t=u.formatLabel(l(n)[0]),e('<span class="ui-slider-tip-label">'+t+"</span>").insertAfter(a)}),"slide"!==u.event&&"slidechange"!==u.event&&"slide slidechange"!==u.event&&"slidechange slide"!==u.event&&(u.event="slidechange slide"),t.element.off(".sliderFloat").on(u.event+".sliderFloat",function(i,s){var t="array"===e.type(s.value)?s.value:[s.value],a=u.formatLabel(l(t)[0]);e(s.handle).find(".ui-slider-tip").html(a)})}else"destroy"===i?t.element.off(".sliderFloat").removeClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove():"refresh"===i&&t.element.slider("float",t.element.data("float-options"))}};e.extend(!0,e.ui.slider.prototype,i)}(jQuery);