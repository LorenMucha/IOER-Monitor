!function(e){var t=e.fn.jquery.split("."),i=parseFloat(t[0]),n=parseFloat(t[1]);i<2&&n<8?(e.expr[":"].filterTableFind=function(t,i,n){return e(t).text().toUpperCase().indexOf(n[3].toUpperCase().replace(/"""/g,'"').replace(/"\\"/g,"\\"))>=0},e.expr[":"].filterTableFindAny=function(t,i,n){var r=n[3].split(/[\s,]/),a=[];return e.each(r,function(e,t){var i=t.replace(/^\s+|\s$/g,"");i&&a.push(i)}),!!a.length&&function(t){var i=!1;return e.each(a,function(n,r){if(e(t).text().toUpperCase().indexOf(r.toUpperCase().replace(/"""/g,'"').replace(/"\\"/g,"\\"))>=0)return i=!0,!1}),i}},e.expr[":"].filterTableFindAll=function(t,i,n){var r=n[3].split(/[\s,]/),a=[];return e.each(r,function(e,t){var i=t.replace(/^\s+|\s$/g,"");i&&a.push(i)}),!!a.length&&function(t){var i=0;return e.each(a,function(n,r){e(t).text().toUpperCase().indexOf(r.toUpperCase().replace(/"""/g,'"').replace(/"\\"/g,"\\"))>=0&&i++}),i===a.length}}):(e.expr[":"].filterTableFind=jQuery.expr.createPseudo(function(t){return function(i){return e(i).text().toUpperCase().indexOf(t.toUpperCase().replace(/"""/g,'"').replace(/"\\"/g,"\\"))>=0}}),e.expr[":"].filterTableFindAny=jQuery.expr.createPseudo(function(t){var i=t.split(/[\s,]/),n=[];return e.each(i,function(e,t){var i=t.replace(/^\s+|\s$/g,"");i&&n.push(i)}),!!n.length&&function(t){var i=!1;return e.each(n,function(n,r){if(e(t).text().toUpperCase().indexOf(r.toUpperCase().replace(/"""/g,'"').replace(/"\\"/g,"\\"))>=0)return i=!0,!1}),i}}),e.expr[":"].filterTableFindAll=jQuery.expr.createPseudo(function(t){var i=t.split(/[\s,]/),n=[];return e.each(i,function(e,t){var i=t.replace(/^\s+|\s$/g,"");i&&n.push(i)}),!!n.length&&function(t){var i=0;return e.each(n,function(n,r){e(t).text().toUpperCase().indexOf(r.toUpperCase().replace(/"""/g,'"').replace(/"\\"/g,"\\"))>=0&&i++}),i===n.length}})),e.fn.filterTable=function(t){var i={autofocus:!1,callback:null,containerClass:"filter-table",containerTag:"p",filterExpression:"filterTableFind",hideTFootOnFilter:!1,highlightClass:"alt",ignoreClass:"",ignoreColumns:[],inputSelector:null,inputName:"",inputType:"search",label:"Filter:",minChars:1,minRows:8,placeholder:"search this table",preventReturnKey:!0,quickList:[],quickListClass:"quick",quickListClear:"",quickListGroupTag:"",quickListTag:"a",visibleClass:"visible"},n=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r=e.extend({},i,t),a=function(t,i){var n=t.find("tbody");if(""===i||i.length<r.minChars)n.find("tr").show().addClass(r.visibleClass),n.find("td").removeClass(r.highlightClass),r.hideTFootOnFilter&&t.find("tfoot").show();else{var a=n.find("td");if(n.find("tr").hide().removeClass(r.visibleClass),a.removeClass(r.highlightClass),r.hideTFootOnFilter&&t.find("tfoot").hide(),r.ignoreColumns.length){r.ignoreClass&&(a=a.not("."+r.ignoreClass)),a.filter(":"+r.filterExpression+'("'+i+'")').each(function(){var t=e(this),i=t.parent().children().index(t);-1===e.inArray(i,r.ignoreColumns)&&t.addClass(r.highlightClass).closest("tr").show().addClass(r.visibleClass)})}else r.ignoreClass&&(a=a.not("."+r.ignoreClass)),a.filter(":"+r.filterExpression+'("'+i+'")').addClass(r.highlightClass).closest("tr").show().addClass(r.visibleClass)}r.callback&&r.callback(i,t)};return this.each(function(){var t=e(this),i=t.find("tbody"),l=null,s=null,c=null,o=!0;if("TABLE"===t[0].nodeName&&i.length>0&&(0===r.minRows||r.minRows>0&&i.find("tr").length>=r.minRows)&&!t.prev().hasClass(r.containerClass)){if(r.inputSelector&&1===e(r.inputSelector).length?(l=(c=e(r.inputSelector)).parent(),o=!1):(l=e("<"+r.containerTag+" />"),""!==r.containerClass&&l.addClass(r.containerClass),l.prepend(r.label+" "),c=e('<input type="'+r.inputType+'" placeholder="'+r.placeholder+'" name="'+r.inputName+'" />'),r.preventReturnKey&&c.on("keydown",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),r.autofocus&&c.attr("autofocus",!0),e.fn.bindWithDelay?c.bindWithDelay("keyup",function(){a(t,e(this).val())},200):c.bind("keyup",function(){a(t,e(this).val())}),c.bind("click search input paste blur",function(){a(t,e(this).val())}),o&&l.append(c),r.quickList.length>0||r.quickListClear){if(s=r.quickListGroupTag?e("<"+r.quickListGroupTag+" />"):l,e.each(r.quickList,function(t,i){var a=e("<"+r.quickListTag+' class="'+r.quickListClass+'" />');a.text(n(i)),"A"===a[0].nodeName&&a.attr("href","#"),a.bind("click",function(e){e.preventDefault(),c.val(i).focus().trigger("click")}),s.append(a)}),r.quickListClear){var u=e("<"+r.quickListTag+' class="'+r.quickListClass+'" />');u.html(r.quickListClear),"A"===u[0].nodeName&&u.attr("href","#"),u.bind("click",function(e){e.preventDefault(),c.val("").focus().trigger("click")}),s.append(u)}s!==l&&l.append(s)}o&&t.before(l)}})}}(jQuery);